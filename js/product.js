"use strict";document.querySelectorAll(".choices_select").forEach((function(e){new Choices(e,{searchEnabled:!1,shouldSort:!1,placeholder:!0,placeholderValue:"",itemSelectText:""});var t=e.getAttribute("aria-label");e.closest(".choices").setAttribute("aria-label",t)}));var e=new Swiper(".product-thumbs",{direction:"horizontal",spaceBetween:38,slideToClickedSlide:!0,slidesPerView:"auto",slidesPerGroup:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{576:{direction:"vertical",spaceBetween:38},768:{direction:"vertical",spaceBetween:13},1024:{direction:"horizontal",spaceBetween:38},1920:{direction:"horizontal",spaceBetween:38}}}),t=new Swiper(".product-top",{spaceBetween:10,thumbs:{swiper:e},on:{init:function(){document.querySelector(".product-thumbs .swiper-slide:nth-child(1)").style.display="none"},slideChange:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))}}}),i=(new Swiper(".similar .swiper",{direction:"horizontal",slidesPerView:2,slidesPerGroup:1,spaceBetween:16,grid:{rows:1,fill:"row"},breakpoints:{576:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:36},1024:{slidesPerView:3,slidesPerGroup:1,spaceBetween:32},1920:{slidesPerView:4,slidesPerGroup:1,spaceBetween:32}},navigation:{nextEl:".similar-next",prevEl:".similar-prev"},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"slide-visible",on:{init:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))}}}),new Swiper(".modal-thumbs",{direction:"horizontal",spaceBetween:78,slidesPerView:"auto",slidesPerGroup:4,slideToClickedSlide:!0,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})),o=new Swiper(".modal-top",{spaceBetween:10,autoHeight:!0,thumbs:{swiper:i},on:{init:function(){var e=i.activeIndex;document.querySelector(".modal-thumbs .swiper-slide:nth-child(".concat(e+1,")")).style.display="none"}}}),n=document.querySelector(".modal"),s=document.querySelectorAll(".product-slide-openmodal"),l=document.querySelector(".modal__element .closeBtn"),r=document.querySelector(".product-top");function d(e){"Escape"===e.key&&a()}function a(){var i=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(i||"0"));var s=o.activeIndex;t.slideTo(s),e.slideTo(1),n.style.display="none",o.keyboard.disable(),t.keyboard.enable(),document.removeEventListener("keydown",d)}function c(){document.body.style.position="fixed",document.body.style.top="-".concat(window.scrollY,"px");var e=t.activeIndex;o.slideTo(e),n.style.display="block",o.update(),i.update(),t.keyboard.disable(),o.keyboard.enable(),document.addEventListener("keydown",d)}s.forEach((function(e){e.addEventListener("click",c)})),l.addEventListener("click",a),r.addEventListener("keydown",(function(e){"Enter"===e.key&&c()})),new window.JustValidate(".modalpay__form",{errorFieldCssClass:"is-invalid",errorFieldStyle:{border:"1px solid #FF6972"},errorLabelCssClass:"is-label-invalid",errorLabelStyle:{position:"absolute",top:"-18px",left:"23px",color:"#FF6972",fontWeight:400,fontSize:"12px",lineheight:"16 px"},focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0}).addField("#name",[{rule:"required",errorMessage:"вы не ввели имя"},{rule:"minLength",value:3,errorMessage:"Имя должно быть больше трех символов"},{rule:"maxLength",value:30,errorMessage:"Имя должно быть меньше тридцати символов"}]).addField("#tel",[{rule:"required",errorMessage:"вы не ввели телефон"},{rule:"minLength",value:10}]).onSuccess((function(e){function t(){var e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),o.style.display="none",document.removeEventListener("keydown",i)}function i(e){"Escape"===e.key&&t()}var o=document.querySelector(".modalsend"),n=document.querySelector(".modalsend__element .closeBtn");o.style.display="block",p.style.display="none",document.addEventListener("keydown",i),n.addEventListener("click",t)})).onFail((function(e){console.error("fields:",Object.keys(e))}));var u=document.querySelector("input[type='tel']");new Inputmask("+7 (999) 999-99-99").mask(u);var p=document.querySelector(".modalpay"),y=document.querySelector(".modalpay__element .closeBtn"),w=document.querySelector(".product__descr-btn");function m(e){"Escape"===e.key&&b()}function b(){scrollLock.enablePageScroll(),p.style.display="none",document.removeEventListener("keydown",m)}function v(e){e.preventDefault(),p.style.display="block",scrollLock.disablePageScroll(),document.addEventListener("keydown",m)}y.addEventListener("click",b),w.addEventListener("keydown",(function(e){"Enter"===e.key&&v()})),w.addEventListener("click",v);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVmYXVsdFNlbGVjdCIsImVsIiwiZWxlbWVudHMiLCJzaG91bGRTb3J0IiwicGxhY2Vob2xkZXIiLCJzZWFyY2hFbmFibGVkIiwicGxhY2Vob2xkZXJWYWx1ZSIsIml0ZW1TZWxlY3RUZXh0IiwiYXJpYUxhYmVsIiwiZ2V0QXR0cmlidXRlIiwiY2xvc2VzdCIsInNldEF0dHJpYnV0ZSIsIlN3aXBlciIsImRpcmVjdGlvbiIsInByb2R1Y3RUaHVtYnMiLCJzcGFjZUJldHdlZW4iLCJzbGlkZVRvQ2xpY2tlZFNsaWRlIiwic2xpZGVzUGVyVmlldyIsInNsaWRlc1Blckdyb3VwIiwiZnJlZU1vZGUiLCJ3YXRjaFNsaWRlc1Zpc2liaWxpdHkiLCJ3YXRjaFNsaWRlc1Byb2dyZXNzIiwiYnJlYWtwb2ludHMiLCJzd2lwZXIiLCJ0aHVtYnMiLCJvbiIsImluaXQiLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVzIiwiZm9yRWFjaCIsInNsaWRlQ2hhbmdlIiwidGhpcyIsInNsaWRlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ0YWJJbmRleCIsIm5leHRFbCIsImdyaWQiLCJyb3dzIiwiZmlsbCIsIm5hdmlnYXRpb24iLCJwcmV2RWwiLCJhMTF5Iiwia2V5Ym9hcmQiLCJzbGlkZVZpc2libGVDbGFzcyIsImVuYWJsZWQiLCJvbmx5SW5WaWV3cG9ydCIsImF1dG9IZWlnaHQiLCJtb2RhbFRodW1icyIsIm1vZGFsU2xpZGVzIiwibW9kYWwiLCJtb2RhbEJ0biIsImFjdGl2ZUluZGV4IiwiaW5kZXhfY3VycmVudFNsaWRlIiwic3R5bGUiLCJkaXNwbGF5IiwiY2xvc2VNb2RhbCIsImNsb3NlQnRuIiwidG9wIiwiYm9keSIsInBvc2l0aW9uIiwic2Nyb2xsVG8iLCJzY3JvbGxZIiwic3dpcGVyTW9kYWxJbmRleFBvcyIsImV2ZW50IiwicHJvZHVjdFNsaWRlcyIsInN3aXBlckluZGV4UG9zIiwic2xpZGVUbyIsInVwZGF0ZSIsIndpbmRvdyIsInBhcnNlSW50IiwiZW5hYmxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZU1vZGFsV2l0aEtleWJvYXJkIiwiZXJyb3JGaWVsZENzc0NsYXNzIiwiZXJyb3JGaWVsZFN0eWxlIiwiY29uY2F0IiwiZXJyb3JMYWJlbFN0eWxlIiwiZGlzYWJsZSIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImVsZW1lbnQiLCJvcGVuTW9kYWwiLCJ2YWxpZGF0ZUJlZm9yZVN1Ym1pdHRpbmciLCJwcm9kdWN0IiwiSnVzdFZhbGlkYXRlIiwicnVsZSIsImVycm9yTGFiZWxDc3NDbGFzcyIsInZhbHVlIiwiZXJyb3JNZXNzYWdlIiwiY29sb3IiLCJhZGRGaWVsZCIsImxpbmVoZWlnaHQiLCJmb2N1c0ludmFsaWRGaWVsZCIsImxvY2tGb3JtIiwiY2xvc2VTZW5kTW9kYWwiLCJtb2RhbFNlbmQiLCJtb2RhbFBheSIsIm9uRmFpbCIsImNvbnNvbGUiLCJwaG9uZSIsIm9uU3VjY2VzcyIsImNsb3NlUGF5QnRuIiwib3BlblBheUJ0biIsImNsb3NlTW9kYWxQYXlXaXRoS2V5Ym9hcmQiLCJrZXkiLCJjbG9zZVBheU1vZGFsIiwib3Blbk1vZGFsUGF5V2l0aEtleWJvYXJkIiwiY2xvc2VNb2RhU2VuZFdpdGhLZXlib2FyZCIsImNsb3NlU2VuZEJ0biIsIm9wZW5QYXlNb2RhbCIsInByZXZlbnREZWZhdWx0Iiwic2Nyb2xsTG9jayIsImRpc2FibGVQYWdlU2Nyb2xsIiwiZmllbGRzIiwiZXJyb3IiLCJPYmplY3QiLCJrZXlzIiwiSW5wdXRtYXNrIiwibWFzayIsImVuYWJsZVBhZ2VTY3JvbGwiXSwibWFwcGluZ3MiOiJhQUNrQkEsU0FBU0MsaUJBQWlCLG1CQUR0Q0MsU0FBYSxTQUFBQyxHQUNsQixJQUFNQyxRQUFRRCxFQUFHSCxDQUNqQkksZUFBZ0IsRUFHZEMsWUFGVSxFQUdWQyxhQUZBQyxFQUdBQyxpQkFGWSxHQUda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SCxFQUFXcEcsU0FBUzZCLGNBQWMsYUFDbEM0RSxFQUFjekcsU0FBUzZCLGNBQWMsZ0NBQ3JDNkUsRUFBYTFHLFNBQVM2QixjQUFjLHVCQUV4QyxTQUFTOEUsRUFBMEJ6QyxHQUNoQixXQUFkQSxFQUFNMEMsS0FDVEMsR0FFRixDQVNBLFNBQVNBLElBQ1JNLFdBQVdRLG1CQUNYdkIsRUFBUzVDLE1BQU1DLFFBQVUsT0FDekJ6RCxTQUFTMkUsb0JBQW9CLFVBQVdnQyxFQUN6QyxDQUdBLFNBQVNNLEVBQWEvQyxHQUNyQkEsRUFBTWdELGlCQUNOZCxFQUFTNUMsTUFBTUMsUUFBVSxRQUN6QjBELFdBQVdDLG9CQUNYcEgsU0FBUzBFLGlCQUFpQixVQUFXaUMsRUFDdEMsQ0FFQUYsRUFBWS9CLGlCQUFpQixRQUFTbUMsR0FDdENILEVBQVdoQyxpQkFBaUIsV0F0QjVCLFNBQWtDUixHQUNmLFVBQWRBLEVBQU0wQyxLQUNUSyxHQUVGLElBbUJBUCxFQUFXaEMsaUJBQWlCLFFBQVN1QyIsImZpbGUiOiJwcm9kdWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGVmYXVsdFNlbGVjdCA9ICgpID0+IHtcclxuXHRjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaG9pY2VzX3NlbGVjdCcpO1xyXG5cdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRuZXcgQ2hvaWNlcyhlbCwge1xyXG5cdFx0XHRzZWFyY2hFbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0c2hvdWxkU29ydDogZmFsc2UsXHJcblx0XHRcdHBsYWNlaG9sZGVyOiB0cnVlLFxyXG5cdFx0XHRwbGFjZWhvbGRlclZhbHVlOiBcIlwiLFxyXG5cdFx0XHRpdGVtU2VsZWN0VGV4dDogJycsXHJcblx0XHRcdC8vIHBvc2l0aW9uOmJvdHRvbSxcclxuXHJcblx0XHR9KVxyXG5cdFx0bGV0IGFyaWFMYWJlbCA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xyXG5cdFx0ZWwuY2xvc2VzdCgnLmNob2ljZXMnKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBhcmlhTGFiZWwpO1xyXG5cdH0pXHJcbn1cclxuZGVmYXVsdFNlbGVjdCgpO1xyXG5cclxuY29uc3QgcHJvZHVjdFRodW1icyA9IG5ldyBTd2lwZXIoJy5wcm9kdWN0LXRodW1icycsIHtcclxuXHRkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuXHRzcGFjZUJldHdlZW46IDM4LFxyXG5cdC8vIHNsaWRlc1BlclZpZXc6IDQsXHJcblx0c2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcclxuXHRzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcblx0Ly8gYXV0b0hlaWdodDogdHJ1ZSxcclxuXHRzbGlkZXNQZXJHcm91cDogNCxcclxuXHRmcmVlTW9kZTogdHJ1ZSxcclxuXHR3YXRjaFNsaWRlc1Zpc2liaWxpdHk6IHRydWUsXHJcblx0d2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcclxuXHRicmVha3BvaW50czoge1xyXG5cdFx0NTc2OiB7XHJcblx0XHRcdGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAzOCxcclxuXHJcblx0XHR9LFxyXG5cdFx0NzY4OiB7XHJcblx0XHRcdGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAxMyxcclxuXHJcblx0XHR9LFxyXG5cdFx0MTAyNDoge1xyXG5cdFx0XHRkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAzOCxcclxuXHRcdH0sXHJcblx0XHQxOTIwOiB7XHJcblx0XHRcdGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG5cdFx0XHRzcGFjZUJldHdlZW46IDM4LFxyXG5cdFx0fVxyXG5cclxuXHJcblx0fSxcclxufSk7XHJcblxyXG4vLyBjb25zb2xlLmxvZyhwcm9kdWN0VGh1bWJzKVxyXG5cclxuY29uc3QgcHJvZHVjdFNsaWRlcyA9IG5ldyBTd2lwZXIoJy5wcm9kdWN0LXRvcCcsIHtcclxuXHRzcGFjZUJldHdlZW46IDEwLFxyXG5cdHRodW1iczoge1xyXG5cdFx0c3dpcGVyOiBwcm9kdWN0VGh1bWJzXHJcblx0fSxcclxuXHRvbjoge1xyXG5cdFx0aW5pdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRsZXQgZmlyc3RTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9kdWN0LXRodW1icyAuc3dpcGVyLXNsaWRlOm50aC1jaGlsZCgxKWApO1xyXG5cdFx0XHRmaXJzdFNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHR9LFxyXG5cdFx0c2xpZGVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcclxuXHRcdFx0XHRpZiAoIXNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhcInNsaWRlLXZpc2libGVcIikpIHtcclxuXHRcdFx0XHRcdHNsaWRlLnRhYkluZGV4ID0gXCItMVwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzbGlkZS50YWJJbmRleCA9IFwiXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59KTtcclxuXHJcblxyXG5jb25zdCBzaW1pbGFyU3dpcGVyID0gbmV3IFN3aXBlcignLnNpbWlsYXIgLnN3aXBlcicsIHtcclxuXHQvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXHJcblx0Ly8gZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG5cdGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG5cdC8vIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG5cdC8vIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogdHJ1ZSxcclxuXHRzbGlkZXNQZXJWaWV3OiAyLFxyXG5cdHNsaWRlc1Blckdyb3VwOiAxLFxyXG5cdHNwYWNlQmV0d2VlbjogMTYsXHJcblx0Z3JpZDoge1xyXG5cdFx0cm93czogMSxcclxuXHRcdGZpbGw6IFwicm93XCJcclxuXHR9LFxyXG5cclxuXHRicmVha3BvaW50czoge1xyXG5cdFx0NTc2OiB7XHJcblx0XHRcdHNsaWRlc1BlclZpZXc6IDIsXHJcblx0XHRcdHNsaWRlc1Blckdyb3VwOiAxLFxyXG5cdFx0XHRzcGFjZUJldHdlZW46IDE2XHJcblx0XHR9LFxyXG5cdFx0NzY4OiB7XHJcblx0XHRcdHNsaWRlc1BlclZpZXc6IDIsXHJcblx0XHRcdHNsaWRlc1Blckdyb3VwOiAxLFxyXG5cdFx0XHRzcGFjZUJldHdlZW46IDM2XHJcblx0XHR9LFxyXG5cclxuXHRcdDEwMjQ6IHtcclxuXHRcdFx0c2xpZGVzUGVyVmlldzogMyxcclxuXHRcdFx0c2xpZGVzUGVyR3JvdXA6IDEsXHJcblx0XHRcdHNwYWNlQmV0d2VlbjogMzIsXHJcblx0XHR9LFxyXG5cdFx0MTkyMDoge1xyXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxyXG5cdFx0XHRzbGlkZXNQZXJHcm91cDogMSxcclxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAzMixcclxuXHRcdH0sXHJcblxyXG5cdH0sXHJcblxyXG5cdG5hdmlnYXRpb246IHtcclxuXHRcdG5leHRFbDogXCIuc2ltaWxhci1uZXh0XCIsXHJcblx0XHRwcmV2RWw6IFwiLnNpbWlsYXItcHJldlwiXHJcblx0fSxcclxuXHRhMTF5OiBmYWxzZSxcclxuXHJcblx0a2V5Ym9hcmQ6IHtcclxuXHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRvbmx5SW5WaWV3cG9ydDogdHJ1ZVxyXG5cdH0sIC8vINC80L7QttC90L4g0YPQv9GA0LDQstC70Y/RgtGMINGBINC60LvQsNCy0LjQsNGC0YPRgNGLINGB0YLRgNC10LvQutCw0LzQuCDQstC70LXQstC+L9Cy0L/RgNCw0LLQvlxyXG5cclxuXHQvLyDQlNCw0LvRjNC90LXQudGI0LjQtSDQvdCw0LTRgdGC0YDQvtC50LrQuCDQtNC10LvQsNGO0YIg0YHQu9Cw0LnQtNGLINCy0L3QtSDQvtCx0LvQsNGB0YLQuCDQstC40LTQuNC80L7RgdGC0Lgg0L3QtSDRhNC+0LrRg9GB0LjRgNGD0LXQvNGL0LzQuFxyXG5cdHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXHJcblx0d2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxyXG5cdHNsaWRlVmlzaWJsZUNsYXNzOiBcInNsaWRlLXZpc2libGVcIixcclxuXHJcblx0b246IHtcclxuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcclxuXHRcdFx0XHRpZiAoIXNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhcInNsaWRlLXZpc2libGVcIikpIHtcclxuXHRcdFx0XHRcdHNsaWRlLnRhYkluZGV4ID0gXCItMVwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzbGlkZS50YWJJbmRleCA9IFwiXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHRzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSkgPT4ge1xyXG5cdFx0XHRcdGlmICghc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2xpZGUtdmlzaWJsZVwiKSkge1xyXG5cdFx0XHRcdFx0c2xpZGUudGFiSW5kZXggPSBcIi0xXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNsaWRlLnRhYkluZGV4ID0gXCJcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgbW9kYWxUaHVtYnMgPSBuZXcgU3dpcGVyKCcubW9kYWwtdGh1bWJzJywge1xyXG5cdGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG5cdHNwYWNlQmV0d2VlbjogNzgsXHJcblx0Ly8gc2xpZGVzUGVyVmlldzogNCxcclxuXHRzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcblx0Ly9hdXRvSGVpZ2h0OiB0cnVlLFxyXG5cdHNsaWRlc1Blckdyb3VwOiA0LFxyXG5cdC8vIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogdHJ1ZSxcclxuXHRzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxyXG5cdGZyZWVNb2RlOiB0cnVlLFxyXG5cdHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogdHJ1ZSxcclxuXHR3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxyXG5cdG5hdmlnYXRpb246IHtcclxuXHRcdG5leHRFbDogXCIuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXHJcblx0XHRwcmV2RWw6IFwiLnN3aXBlci1idXR0b24tcHJldlwiXHJcblx0fSxcclxufSk7XHJcblxyXG4vLyBjb25zb2xlLmxvZyhwcm9kdWN0VGh1bWJzKVxyXG5cclxuY29uc3QgbW9kYWxTbGlkZXMgPSBuZXcgU3dpcGVyKCcubW9kYWwtdG9wJywge1xyXG5cdHNwYWNlQmV0d2VlbjogMTAsXHJcblx0YXV0b0hlaWdodDogdHJ1ZSxcclxuXHR0aHVtYnM6IHtcclxuXHRcdHN3aXBlcjogbW9kYWxUaHVtYnNcclxuXHR9LFxyXG5cdG9uOiB7XHJcblx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGNvbnN0IGluZGV4X2N1cnJlbnRTbGlkZSA9IG1vZGFsVGh1bWJzLmFjdGl2ZUluZGV4O1xyXG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubW9kYWwtdGh1bWJzIC5zd2lwZXItc2xpZGU6bnRoLWNoaWxkKCR7aW5kZXhfY3VycmVudFNsaWRlICsgMX0pYCkuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBcdHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBcdGxldCBpbmRleF9jdXJyZW50U2xpZGUgPSBtb2RhbFRodW1icy5hY3RpdmVJbmRleDtcclxuXHRcdC8vIFx0Y29uc29sZS5sb2coaW5kZXhfY3VycmVudFNsaWRlKVxyXG5cdFx0Ly8gXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5tb2RhbC10aHVtYnMgLnN3aXBlci1zbGlkZTpudGgtY2hpbGQoJHtpbmRleF9jdXJyZW50U2xpZGUgKyAxfSlgKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHQvLyB9XHJcblx0fVxyXG59KTtcclxuXHJcbmxldCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xyXG5sZXQgbW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1zbGlkZS1vcGVubW9kYWwnKTtcclxubGV0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19lbGVtZW50IC5jbG9zZUJ0bicpO1xyXG5sZXQgcHJvZHVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXRvcCcpXHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsV2l0aEtleWJvYXJkKGV2ZW50KSB7XHJcblx0aWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdGNsb3NlTW9kYWwoKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Nb2RhbFdpdGhLZXlib2FyZChldmVudCkge1xyXG5cdGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcclxuXHRcdG9wZW5Nb2RhbCgpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcclxuXHRjb25zdCBzY3JvbGxZID0gZG9jdW1lbnQuYm9keS5zdHlsZS50b3A7XHJcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xyXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XHJcblx0d2luZG93LnNjcm9sbFRvKDAsIHBhcnNlSW50KHNjcm9sbFkgfHwgJzAnKSAqIC0xKTtcclxuXHJcblx0bGV0IHN3aXBlck1vZGFsSW5kZXhQb3MgPSBtb2RhbFNsaWRlcy5hY3RpdmVJbmRleDtcclxuXHRwcm9kdWN0U2xpZGVzLnNsaWRlVG8oc3dpcGVyTW9kYWxJbmRleFBvcyk7XHJcblx0cHJvZHVjdFRodW1icy5zbGlkZVRvKDEpO1xyXG5cdG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0bW9kYWxTbGlkZXMua2V5Ym9hcmQuZGlzYWJsZSgpO1xyXG5cdHByb2R1Y3RTbGlkZXMua2V5Ym9hcmQuZW5hYmxlKCk7XHJcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNsb3NlTW9kYWxXaXRoS2V5Ym9hcmQpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKCkge1xyXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xyXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3dpbmRvdy5zY3JvbGxZfXB4YDtcclxuXHRsZXQgc3dpcGVySW5kZXhQb3MgPSBwcm9kdWN0U2xpZGVzLmFjdGl2ZUluZGV4O1xyXG5cclxuXHRtb2RhbFNsaWRlcy5zbGlkZVRvKHN3aXBlckluZGV4UG9zKTtcclxuXHRtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRtb2RhbFNsaWRlcy51cGRhdGUoKTtcclxuXHRtb2RhbFRodW1icy51cGRhdGUoKTtcclxuXHRwcm9kdWN0U2xpZGVzLmtleWJvYXJkLmRpc2FibGUoKTtcclxuXHRtb2RhbFNsaWRlcy5rZXlib2FyZC5lbmFibGUoKTtcclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VNb2RhbFdpdGhLZXlib2FyZCk7XHJcbn1cclxuXHJcbm1vZGFsQnRuLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Nb2RhbCk7IC8vIGFkZCBhbiBjbGljayBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBzd2lwZXItc2xpZGUgKG91dHNpZGUgdGhlIG1vZGFsKVxyXG59KVxyXG5cclxuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTtcclxucHJvZHVjdC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb3Blbk1vZGFsV2l0aEtleWJvYXJkKTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb24gPSBuZXcgd2luZG93Lkp1c3RWYWxpZGF0ZSgnLm1vZGFscGF5X19mb3JtJywge1xyXG5cdGVycm9yRmllbGRDc3NDbGFzczogJ2lzLWludmFsaWQnLFxyXG5cdGVycm9yRmllbGRTdHlsZToge1xyXG5cdFx0Ym9yZGVyOiAnMXB4IHNvbGlkICNGRjY5NzInLFxyXG5cdH0sXHJcblx0ZXJyb3JMYWJlbENzc0NsYXNzOiAnaXMtbGFiZWwtaW52YWxpZCcsXHJcblx0ZXJyb3JMYWJlbFN0eWxlOiB7XHJcblx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuXHRcdHRvcDogJy0xOHB4JyxcclxuXHRcdGxlZnQ6ICcyM3B4JyxcclxuXHRcdGNvbG9yOiAnI0ZGNjk3MicsXHJcblx0XHRmb250V2VpZ2h0OiA0MDAsXHJcblx0XHRmb250U2l6ZTogJzEycHgnLFxyXG5cdFx0bGluZWhlaWdodDogJzE2IHB4JyxcclxuXHRcdC8vIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lZCcsXHJcblx0fSxcclxuXHRmb2N1c0ludmFsaWRGaWVsZDogdHJ1ZSxcclxuXHRsb2NrRm9ybTogdHJ1ZSxcclxuXHR2YWxpZGF0ZUJlZm9yZVN1Ym1pdHRpbmc6IHRydWUsXHJcblxyXG59LCApO1xyXG5cclxudmFsaWRhdGlvblxyXG5cdC5hZGRGaWVsZCgnI25hbWUnLCBbe1xyXG5cdFx0XHRydWxlOiAncmVxdWlyZWQnLFxyXG5cdFx0XHRlcnJvck1lc3NhZ2U6ICfQstGLINC90LUg0LLQstC10LvQuCDQuNC80Y8nLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0cnVsZTogJ21pbkxlbmd0aCcsXHJcblx0XHRcdHZhbHVlOiAzLFxyXG5cdFx0XHRlcnJvck1lc3NhZ2U6ICfQmNC80Y8g0LTQvtC70LbQvdC+INCx0YvRgtGMINCx0L7Qu9GM0YjQtSDRgtGA0LXRhSDRgdC40LzQstC+0LvQvtCyJyxcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdHJ1bGU6ICdtYXhMZW5ndGgnLFxyXG5cdFx0XHR2YWx1ZTogMzAsXHJcblx0XHRcdGVycm9yTWVzc2FnZTogJ9CY0LzRjyDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0LzQtdC90YzRiNC1INGC0YDQuNC00YbQsNGC0Lgg0YHQuNC80LLQvtC70L7QsicsXHJcblx0XHR9LFxyXG5cdF0pXHJcblx0LmFkZEZpZWxkKCcjdGVsJywgW3tcclxuXHRcdHJ1bGU6ICdyZXF1aXJlZCcsXHJcblx0XHRlcnJvck1lc3NhZ2U6ICfQstGLINC90LUg0LLQstC10LvQuCDRgtC10LvQtdGE0L7QvScsXHJcblx0fSwge1xyXG5cdFx0cnVsZTogJ21pbkxlbmd0aCcsXHJcblx0XHR2YWx1ZTogMTAsXHJcblx0fSwgXSlcclxuXHQub25TdWNjZXNzKChldmVudCkgPT4ge1xyXG5cdFx0ZnVuY3Rpb24gY2xvc2VTZW5kTW9kYWwoKSB7XHJcblx0XHRcdGNvbnN0IHNjcm9sbFkgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcDtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9ICcnO1xyXG5cdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgcGFyc2VJbnQoc2Nyb2xsWSB8fCAnMCcpICogLTEpO1xyXG5cdFx0XHRtb2RhbFNlbmQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0Ly8gbW9kYWxQYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNsb3NlTW9kYVNlbmRXaXRoS2V5Ym9hcmQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlTW9kYVNlbmRXaXRoS2V5Ym9hcmQoZXZlbnQpIHtcclxuXHRcdFx0aWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdFx0XHRjbG9zZVNlbmRNb2RhbCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgbW9kYWxTZW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsc2VuZCcpO1xyXG5cdFx0bGV0IGNsb3NlU2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbHNlbmRfX2VsZW1lbnQgLmNsb3NlQnRuJyk7XHJcblx0XHRtb2RhbFNlbmQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRtb2RhbFBheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNsb3NlTW9kYVNlbmRXaXRoS2V5Ym9hcmQpO1xyXG5cdFx0Y2xvc2VTZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTZW5kTW9kYWwpO1xyXG5cclxuXHRcdC8vdmFsaWRhdGlvbi5mb3JtLnN1Ym1pdCgpO1xyXG5cdH0pXHJcblx0Lm9uRmFpbCgoZmllbGRzKSA9PiB7XHJcblx0XHRjb25zb2xlLmVycm9yKFwiZmllbGRzOlwiLCBPYmplY3Qua2V5cyhmaWVsZHMpKTtcclxuXHR9KTtcclxuXHJcbmxldCBwaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPSd0ZWwnXVwiKVxyXG52YXIgaW0gPSBuZXcgSW5wdXRtYXNrKFwiKzcgKDk5OSkgOTk5LTk5LTk5XCIpXHJcbmltLm1hc2socGhvbmUpO1xyXG5cclxubGV0IG1vZGFsUGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFscGF5Jyk7XHJcbmxldCBjbG9zZVBheUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbHBheV9fZWxlbWVudCAuY2xvc2VCdG4nKTtcclxubGV0IG9wZW5QYXlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGVzY3ItYnRuJylcclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWxQYXlXaXRoS2V5Ym9hcmQoZXZlbnQpIHtcclxuXHRpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xyXG5cdFx0Y2xvc2VQYXlNb2RhbCgpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsUGF5V2l0aEtleWJvYXJkKGV2ZW50KSB7XHJcblx0aWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xyXG5cdFx0b3BlblBheU1vZGFsKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2xvc2VQYXlNb2RhbCgpIHtcclxuXHRzY3JvbGxMb2NrLmVuYWJsZVBhZ2VTY3JvbGwoKTtcclxuXHRtb2RhbFBheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjbG9zZU1vZGFsUGF5V2l0aEtleWJvYXJkKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG9wZW5QYXlNb2RhbChldmVudCkge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0bW9kYWxQYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0c2Nyb2xsTG9jay5kaXNhYmxlUGFnZVNjcm9sbCgpO1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjbG9zZU1vZGFsUGF5V2l0aEtleWJvYXJkKTtcclxufVxyXG5cclxuY2xvc2VQYXlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBheU1vZGFsKTtcclxub3BlblBheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb3Blbk1vZGFsUGF5V2l0aEtleWJvYXJkKTtcclxub3BlblBheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5QYXlNb2RhbCk7Il19
